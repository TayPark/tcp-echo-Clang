## 개요

TCP는 연결지향 프로토콜이다. 서버-클라이언트 구조에서 서버는 특정 포트로 Listen 중이면 클라이언트는 해당 엔드포인트로 커넥션을 요청한다. 이를 커넥션 셋업 또는 핸드셰이킹이라 하고 이 작업이 이루어진 후에 데이터를 주고받는다.

소켓은 두 프로세스 간 통신을 위한 각자의 `엔드포인트(IP+Port)`를 말한다. 소켓 프로그래밍은 TCP와 UDP, 두 가지 방식이 있고 간단히 차이점을 말하자면 다음과 같다.

- `TCP`: 클라이언트-서버 간 사전 연결 작업을 거친 후 데이터를 전송한다. 그러기에 `안정적`이다.
- `UDP`: 클라이언트-서버 간 사전 연결 작업(Connection setup)이 없고 헤더 크기가 상대적으로 작아 데이터의 효용성이 좋고 빠르지만 상대적으로 `불안정적`이다.

TCP를 소켓 프로그래밍, 에코서버를 구현하기 위해 서버와 클라이언트는 다음의 순서를 거친다.

#### 서버

소켓생성 - 엔드포인트 바인드 - 리스닝 - (연결요청에 따른) 연결 수락 - 통신 - 소켓 클로즈

소스코드 상에는 다음으로 나타난다.

```s
socket() -> bind() -> listen() -> accept() -> send() or recv() -> close()
```

#### 클라이언트

소켓생성 - 연결 요청 - 통신 - 소켓 클로즈

코드로 나타내면 다음과 같다.

```s
socket() -> connect() -> send() or recv() -> close()
```

#### 실행환경

- `OS`: Window 10 Pro WSL 2; Ubuntu 18.04.4 LTS
- `CPU`: Intel(R) Core(TM) i5-10210U CPU @ 1.60GHz (4C 8T)
- `RAM`: 16G
- `Compiler`: gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04)

